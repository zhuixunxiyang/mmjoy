#summary Подключение енкодеров

*Схема подключения:*<br>
http://mmjoy.googlecode.com/svn/wiki/Encoder.jpg <br>
крайние ножки энкодера подключаются к матрице кнопок к портам с подтяжкой резисторов (для Mjoy по схеме Mercury это "XS2")
средняя ножка подключается к матрице кнопок к портам без подтяжки для Mjoy по схеме Mercury это "XS3")
<br>
Схема Mercury (2011):<br>
http://mmjoy.googlecode.com/svn/wiki/Mjoy_2011.png<br>

*Краткое руководство:*<br>
1) Подключаем енкодер к матрице кнопок и начинаем вращение:<br>
1.1)Правильно подключенный енкодер начнет хаотично моргать двумя кнопками(в матрице) это Квадратурный или Инкрементальный энкодер(необходимо дальнейшее конфигурирование). Скорее всего такой енкодер будет с тремя ножками.<br>
1.2)Если при вращении в одну сторону моргают только одна кнопка, а при вращении в другую другая то это Импульсный енкодер и его не надо конфигурировать (он сразу работает как есть). Скорее всего такой енкодер будет с четырмя ножками.<br>
1.3)Если никакие кнопки не моргают (не загораются), меняем местами подключение матрицы кнопок - колонок и строк, и замедляем скорость вращения. Добиваемся выполнения пункта 1.1 или 1.2<br>
2)Только для Квадратурного (Инкрементального) энкодера необходимо проверить правильность передаваемого кода (обычно средняя ножка это общий выход, но бывают и исключения - например енкодер из компьютерной мышки).<br>
Медленно вращаем енкодер, и наблюдаем картинку матрицы кнопок.
Должны поочередно загораться кнопки в следующей последовательности:<br>
2.1) в одну сторону: "01" -> "11" -> "10" -> "00" (где "1" это включенная кнопка и "0" выключенная)<br>
2.2) в другую: "00" -> "10" -> "11" -> "01"<br>
2.3) Если код вращений не соответсвует правильному (скорее всего общая ножка не посередине, а одна из крайних) - необходимо искать даташит на енкодер, (и)или менять местами подключение выводов.<br>

*Настройка в конфигураторе:*<br>
http://mmjoy.googlecode.com/svn/wiki/Encoder_conf.jpg<br>
после подключения, нужно включить устройство в USB, запустить конфигуратор
и начать вращение энкодером наблюдая показатели матрицы кнопок. если всё подключено верно, в матрице будет видно постоянное мигание двух кнопок, номера этих кнопок нужно вручную внести в графы "енкодер". и сохранить конфигурацию в устройство.<br>
После перезагрузки, хаотичные показатели матрицы кнопок (куда подключен энкодер) должны интерпретироваться соотвественно направлением левого или правого вращения.<br>